import csv
import random

def check_adj(secret_verts, rel, weigtt_val):

    weight = 0
    if rel[0] in secret_verts:
        weight += weight_val
    if rel[2] in secret_verts:
        weight += weight_val
    if weight == 0:
        weight = 1
    return weight
        

def load_data(fp, num_secrets):
    random_seed = 26483
    weight_val = 100
    data_in = []
    secret_verts = set()

    secrets = set()

    with open(fp, "r") as fd:
        rd = csv.reader(fd, delimiter="\t")
        for row in rd:
           data_in.append(row)
        print(row)
        random.seed(random_seed)
        random.shuffle(data_in)
        print(int(len(data_in)))
        data_secrets = data_in[:num_secrets]
        data_private = data_in[num_secrets:int(len(data_in)/3)]
        data_public = data_in[int(len(data_in)/3):]
        
        
    return data_public, data_private, data_secrets

def csv_write(f_path, data):
    with open(f_path, "w") as fp: 
        wr = csv.writer(fp, delimiter="\t")    
        for row in data:
            wr.writerow(row)

def write_data(dp, data_public, data_private, data_secrets):

    csv_write(dp+"train.txt", data_public)
    csv_write(dp+"new.txt", data_private)
    csv_write(dp+"secrets.txt", data_secrets)

if __name__ == "__main__":
    dp = "./data/exp_v1_33_select/"
    data_fp = dp+"train_og.txt"
    num_secrets = 150
    (data_public, data_private, data_secrets) = load_data(data_fp, num_secrets)
    write_data(dp, data_public, data_private, data_secrets)
    
